(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,s){},61:function(e,t,s){},62:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(26),r=s.n(n),l=s(9),o=s(2),i=s(4),d=s(27),b=s(28),j=s(12),u=s.n(j),m=function(){function e(){Object(d.a)(this,e),this.url="https://engsoft-production-nmcardoso.cloud.okteto.net"}return Object(b.a)(e,[{key:"getUrl",value:function(e){return this.url+e}},{key:"login",value:function(e){var t=e.username,s=e.password;return u()({url:this.getUrl("/auth/login"),method:"post",data:{username:t,password:s}})}},{key:"register",value:function(e){var t=e.username,s=e.password;return u()({url:this.getUrl("/auth/register"),method:"post",data:{username:t,password:s}})}},{key:"validateToken",value:function(e){return u()({url:this.getUrl("/auth/validate"),method:"get",headers:{Authorization:"Bearer ".concat(e)}})}},{key:"getUnidadeSaude",value:function(){return u()({url:this.getUrl("/unidade_saude/all"),method:"get"})}}]),e}(),p=(s(25),s(0));var h=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)(""),r=Object(i.a)(n,2),l=r[0],d=r[1],b=Object(a.useState)(""),j=Object(i.a)(b,2),u=j[0],h=j[1],x=Object(a.useState)(!1),O=Object(i.a)(x,2),f=O[0],g=O[1],v=Object(o.f)();return Object(p.jsx)("div",{className:"limiter",children:Object(p.jsxs)("div",{className:"page-container",children:[Object(p.jsxs)("div",{className:"banner-wrapper d-none d-md-block",children:[Object(p.jsx)("div",{className:"gov-logo"}),Object(p.jsx)("div",{id:"particles-background"}),Object(p.jsx)("div",{id:"particles-foreground"})]}),Object(p.jsxs)("div",{className:"form-wrapper justify-content-center align-items-center",children:[Object(p.jsx)("div",{className:"vacivida-logo"}),Object(p.jsx)("div",{className:"fw-bolder mb-4",style:{fontSize:"2em"},children:"Entrar"}),!!u&&Object(p.jsx)("div",{className:"alert alert-danger",style:{width:"400px"},role:"alert",children:u}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(!0),(new m).login({username:s,password:l}).then((function(e){e.data.success?(localStorage.setItem("token",e.data.accessToken),v.push("/dashboard")):(h(e.data.message),g(!1))})).catch((function(e){h(e.response.data.message),g(!1)}))},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{className:"fw-bolder",htmlFor:"exampleInputEmail1",children:"Usu\xe1rio"}),Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"",onChange:function(e){return c(e.target.value)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsx)("label",{className:"fw-bolder",htmlFor:"exampleInputPassword1",children:"Senha"}),Object(p.jsx)("a",{href:"#",className:"text-decoration-none text-success fw-bold",children:"Esqueceu a senha?"})]}),Object(p.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword1",placeholder:"",size:"30",onChange:function(e){return d(e.target.value)}})]}),Object(p.jsxs)("div",{className:"custom-control custom-checkbox mb-4 mx-3 my-2 align-middle",children:[Object(p.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customControlInline",size:"30"}),Object(p.jsx)("label",{className:"custom-control-label mx-1",htmlFor:"customControlInline",children:"Ficar logado?"})]}),f?Object(p.jsxs)("button",{className:"btn btn-success fw-bold py-2 px-3 mx-3",type:"submit",disabled:!0,children:[Object(p.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"\xa0\xa0\xa0Autenticando..."]}):Object(p.jsx)("button",{type:"submit",className:"btn btn-success btn-block fw-bold py-2 px-3 mx-3",children:"Entrar"})]})]})]})})};var x=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),s=(t[0],t[1]),c=Object(a.useState)(""),n=Object(i.a)(c,2),r=(n[0],n[1],Object(a.useState)("")),l=Object(i.a)(r,2),o=l[0],d=l[1],b=Object(a.useState)(""),j=Object(i.a)(b,2),u=j[0],h=j[1],x=Object(a.useState)(""),O=Object(i.a)(x,2),f=(O[0],O[1],Object(a.useState)({})),g=Object(i.a)(f,2),v=g[0],N=g[1],w=Object(a.useState)(!1),y=Object(i.a)(w,2),k=y[0],S=y[1];return Object(p.jsx)("div",{className:"limiter",children:Object(p.jsxs)("div",{className:"page-container",children:[Object(p.jsxs)("div",{className:"banner-wrapper d-none d-md-block",children:[Object(p.jsx)("div",{className:"gov-logo"}),Object(p.jsx)("div",{id:"particles-background"}),Object(p.jsx)("div",{id:"particles-foreground"})]}),Object(p.jsxs)("div",{className:"form-wrapper justify-content-center align-items-center",children:[Object(p.jsx)("div",{className:"vacivida-logo"}),Object(p.jsx)("div",{className:"fw-bolder mb-4",style:{fontSize:"2em"},children:"Cadastro"}),!!v.value&&Object(p.jsx)("div",{className:"error"==v.type?"alert alert-danger":"alert alert-success",style:{width:"400px"},role:"alert",children:v.value}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S(!0),(new m).register({username:o,password:u}).then((function(e){e.data.success?(N({value:e.data.message,type:"success"}),S(!1)):(N({value:e.data.message,type:"error"}),S(!1))})).catch((function(e){N({value:e.response.data.message,type:"error"}),S(!1)}))},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{className:"fw-bolder",htmlFor:"exampleInputName",children:"Nome"}),Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",id:"exampleInputName",placeholder:"",onChange:function(e){return s(e.target.value)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{className:"fw-bolder",htmlFor:"exampleInputCPF",children:"CPF"}),Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",id:"exampleInputCPF",placeholder:"",onChange:function(e){return s(e.target.value)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{className:"fw-bolder",htmlFor:"exampleInputEmail1",children:"Usu\xe1rio"}),Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"",onChange:function(e){return d(e.target.value)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("div",{className:"d-flex justify-content-between",children:Object(p.jsx)("label",{className:"fw-bolder",htmlFor:"exampleInputPassword1",children:"Senha"})}),Object(p.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword1",placeholder:"",size:"30",onChange:function(e){return h(e.target.value)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{className:"fw-bolder",htmlFor:"exampleInputUnidade",children:"Unidade"}),Object(p.jsx)("input",{type:"text",className:"form-control form-control-lg",id:"exampleInputName",placeholder:"",onChange:function(e){return s(e.target.value)}})]}),k?Object(p.jsxs)("button",{className:"btn btn-success fw-bold py-2 px-3 mx-4",type:"submit",disabled:!0,children:[Object(p.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"\xa0\xa0\xa0Solicitando..."]}):Object(p.jsx)("button",{type:"submit",className:"btn btn-success btn-lg btn-block fw-bold py-3 px-3 mx-1 my-3",children:"Cadastrar"})]})]})]})})},O=s.p+"static/media/logo_vacivida.c4caa297.png";var f=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"d-flex align-items-center justify-content-center vh-100 vw-100",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:O,width:"250px"}),Object(p.jsxs)("div",{className:"mt-5 d-flex justify-content-around",style:{width:"250px"},children:[Object(p.jsx)(l.b,{to:"login",className:"btn btn-success btn-block fw-bold",children:"Login"}),Object(p.jsx)(l.b,{to:"register",className:"btn btn-success btn-block fw-bold",children:"Cadastro"})]})]})})})};s(61);var g=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)({}),r=Object(i.a)(n,2),l=r[0],d=r[1],b=o.f;return Object(a.useEffect)((function(){var e=new m;console.log(localStorage.getItem("token")),e.validateToken(localStorage.getItem("token")).then((function(e){d({name:e.data.name}),c(!1)})).catch((function(){b.push("/login")}))}),[s]),Object(p.jsx)("div",{className:"d-flex align-items-center justify-content-center vh-100 vw-100",children:l&&0===Object.keys(l).length&&l.constructor===Object?Object(p.jsx)("div",{role:"status",className:"spinner-grow text-success",style:{width:"3rem",height:"3rem"},children:Object(p.jsx)("span",{className:"visually-hidden",children:"Carregando..."})}):Object(p.jsxs)("div",{className:"fadeOut",children:["Bem Vindo, ",Object(p.jsx)("b",{children:l.name})]})})};var v=function(){return Object(p.jsx)(l.a,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",children:Object(p.jsx)(f,{})}),Object(p.jsx)(o.a,{path:"/login",children:Object(p.jsx)(h,{})}),Object(p.jsx)(o.a,{path:"/register",children:Object(p.jsx)(x,{})}),Object(p.jsx)(o.a,{path:"/dashboard",children:Object(p.jsx)(g,{})})]})})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.6f1cb793.chunk.js.map